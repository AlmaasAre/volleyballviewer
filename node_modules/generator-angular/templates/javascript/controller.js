'use strict';

angular.module('<%= _.camelize(appname) %>App')
	.controller('<%= _.classify(name) %>Ctrl', function ($scope, modelBinder) {
		
		modelBinder($scope, 'page').then(function () {
            $scope.canEdit = true; //roleService.hasEditRole($scope.course);
        });
		
	})
	.service('<%= _.classify(name) %>CtrlInit', function ($route, $log, dataService) {

		var _prepare = function () {

			$log.log("<%= _.classify(name) %>Ctrl loading");
			return dataService.Pages.getById( 'new' ) //$route.current.params.id
				.then(function(modelBinder) {
					$log.log("<%= _.classify(name) %>Ctrl loaded");
					return modelBinder;
				});

		};

		return {
			prepare: _prepare
		}
			
	});