'use strict';

describe('Component: <%= _.camelize(name) %>Component', function () {
  var element;

  beforeEach(function() {
    module('<%= _.camelize(appname)%>App');
  });

  it('should have the <%= _.dasherize(name) %>-component class', inject(function($rootScope, $compile) {
    element = angular.element('<<%= _.dasherize(name) %>-component></<%= _.dasherize(name) %>-component>');
    element = $compile(element)($rootScope);

    $rootScope.$digest();
    
    expect(element.hasClass('<%= _.dasherize(name) %>-component')).toBe(true);
  }));

  it('should render the correct template', inject(function ($rootScope, $compile) {
    element = angular.element('<<%= _.dasherize(name) %>-component></<%= _.dasherize(name) %>-component>');
    element = $compile(element)($rootScope);

    $rootScope.$digest();
    
    expect(element.find('p').text()).toBe('this is the <%= _.camelize(name) %> component');
  }));
});

describe('Controller: <%= _.camelize(name) %>ComponentCtrl', function () {

  var <%= _.camelize(name) %>ComponentCtrl, scope;

  beforeEach(function() {
    module('<%= _.camelize(appname)%>App');

    inject(function ($controller, $rootScope) {
      scope = $rootScope.$new();
      <%= _.camelize(name) %>ComponentCtrl = $controller('<%= _.camelize(name) %>ComponentCtrl', {
        $scope: scope,
        $attrs:{test:'Awesomesauce!'}
      });
    });
  });

  it('should attach a test message to the scope', function () {
    expect(scope.test).toEqual('Awesomesauce!');
  });
});
