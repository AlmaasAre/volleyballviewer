!function(a,b,c){"use strict";b.module("ngResource",["ng"]).factory("$resource",["$http","$parse",function(a,d){function e(a){return f(a,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function f(a,b){return encodeURIComponent(a).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,b?"%20":"+")}function g(a,b){this.template=a+="#",this.defaults=b||{};var c=this.urlParams={};k(a.split(/\W/),function(b){b&&new RegExp("(^|[^\\\\]):"+b+"\\W").test(a)&&(c[b]=!0)}),this.template=a.replace(/\\:/g,":")}function h(d,e,f){function p(a,b){var c={};return b=l({},e,b),k(b,function(b,d){c[d]=b.charAt&&"@"==b.charAt(0)?o(a,b.substr(1)):b}),c}function q(a){m(a||{},this)}var r=new g(d);return f=l({},i,f),k(f,function(d,e){d.method=b.uppercase(d.method);var f="POST"==d.method||"PUT"==d.method||"PATCH"==d.method;q[e]=function(b,c,e,g){var h,i={},o=j,s=null;switch(arguments.length){case 4:s=g,o=e;case 3:case 2:if(!n(c)){i=b,h=c,o=e;break}if(n(b)){o=b,s=c;break}o=c,s=e;case 1:n(b)?o=b:f?h=b:i=b;break;case 0:break;default:throw"Expected between 0-4 arguments [params, data, success, error], got "+arguments.length+" arguments."}var t=this instanceof q?this:d.isArray?[]:new q(h);return a({method:d.method,url:r.url(l({},p(h,d.params||{}),i)),data:h}).then(function(a){var b=a.data;b&&(d.isArray?(t.length=0,k(b,function(a){t.push(new q(a))})):m(b,t)),(o||j)(t,a.headers)},s),t},q.prototype["$"+e]=function(a,b,d){var g,h=p(this),i=j;switch(arguments.length){case 3:h=a,i=b,g=d;break;case 2:case 1:n(a)?(i=a,g=b):(h=a,i=b||j);case 0:break;default:throw"Expected between 1-3 arguments [params, success, error], got "+arguments.length+" arguments."}var k=f?this:c;q[e].call(this,h,k,i,g)}}),q.bind=function(a){return h(d,l({},e,a),f)},q}var i={get:{method:"GET"},save:{method:"POST"},query:{method:"GET",isArray:!0},remove:{method:"DELETE"},"delete":{method:"DELETE"}},j=b.noop,k=b.forEach,l=b.extend,m=b.copy,n=b.isFunction,o=function(a,b){return d(b)(a)};return g.prototype={url:function(a){var c,d,g=this,h=this.template;a=a||{},k(this.urlParams,function(f,i){c=a.hasOwnProperty(i)?a[i]:g.defaults[i],b.isDefined(c)&&null!==c?(d=e(c),h=h.replace(new RegExp(":"+i+"(\\W)","g"),d+"$1")):h=h.replace(new RegExp("(/?):"+i+"(\\W)","g"),function(a,b,c){return"/"==c.charAt(0)?c:b+c})}),h=h.replace(/\/?#$/,"");var i=[];return k(a,function(a,b){g.urlParams[b]||i.push(f(b)+"="+f(a))}),i.sort(),h=h.replace(/\/*$/,""),h+(i.length?"?"+i.join("&"):"")}},h}])}(window,window.angular),function(a,b,c){"use strict";b.module("ngCookies",["ng"]).factory("$cookies",["$rootScope","$browser",function(a,d){function e(){var a,e,f,i;for(a in h)k(g[a])&&d.cookies(a,c);for(a in g)e=g[a],b.isString(e)?e!==h[a]&&(d.cookies(a,e),i=!0):b.isDefined(h[a])?g[a]=h[a]:delete g[a];if(i){i=!1,f=d.cookies();for(a in g)g[a]!==f[a]&&(k(f[a])?delete g[a]:g[a]=f[a],i=!0)}}var f,g={},h={},i=!1,j=b.copy,k=b.isUndefined;return d.addPollFn(function(){var b=d.cookies();f!=b&&(f=b,j(b,h),j(b,g),i&&a.$apply())})(),i=!0,a.$watch(e),g}]).factory("$cookieStore",["$cookies",function(a){return{get:function(c){var d=a[c];return d?b.fromJson(d):d},put:function(c,d){a[c]=b.toJson(d)},remove:function(b){delete a[b]}}}])}(window,window.angular),function(a,b){"use strict";function c(a){var b,c={},d=a.split(",");for(b=0;b<d.length;b++)c[d[b]]=!0;return c}function d(a,c){function d(a,d,g,h){if(d=b.lowercase(d),v[d])for(;q.last()&&w[q.last()];)f("",q.last());u[d]&&q.last()==d&&f("",d),h=r[d]||!!h,h||q.push(d);var i={};g.replace(k,function(a,b,c,d,f){var g=c||d||f||"";i[b]=e(g)}),c.start&&c.start(d,i,h)}function f(a,d){var e,f=0;if(d=b.lowercase(d))for(f=q.length-1;f>=0&&q[f]!=d;f--);if(f>=0){for(e=q.length-1;e>=f;e--)c.end&&c.end(q[e]);q.length=f}}var g,h,p,q=[],s=a;for(q.last=function(){return q[q.length-1]};a;){if(h=!0,q.last()&&x[q.last()])a=a.replace(new RegExp("(.*)<\\s*\\/\\s*"+q.last()+"[^>]*>","i"),function(a,b){return b=b.replace(n,"$1").replace(o,"$1"),c.chars&&c.chars(e(b)),""}),f("",q.last());else if(0===a.indexOf("<!--")?(g=a.indexOf("-->"),g>=0&&(c.comment&&c.comment(a.substring(4,g)),a=a.substring(g+3),h=!1)):m.test(a)?(p=a.match(j),p&&(a=a.substring(p[0].length),p[0].replace(j,f),h=!1)):l.test(a)&&(p=a.match(i),p&&(a=a.substring(p[0].length),p[0].replace(i,d),h=!1)),h){g=a.indexOf("<");var t=0>g?a:a.substring(0,g);a=0>g?"":a.substring(g),c.chars&&c.chars(e(t))}if(a==s)throw"Parse Error: "+a;s=a}f()}function e(a){return B.innerHTML=a.replace(/</g,"&lt;"),B.innerText||B.textContent||""}function f(a){return a.replace(/&/g,"&amp;").replace(q,function(a){return"&#"+a.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function g(a){var c=!1,d=b.bind(a,a.push);return{start:function(a,e,g){a=b.lowercase(a),!c&&x[a]&&(c=a),c||1!=y[a]||(d("<"),d(a),b.forEach(e,function(a,c){var e=b.lowercase(c);1!=A[e]||z[e]===!0&&!a.match(p)||(d(" "),d(c),d('="'),d(f(a)),d('"'))}),d(g?"/>":">"))},end:function(a){a=b.lowercase(a),c||1!=y[a]||(d("</"),d(a),d(">")),a==c&&(c=!1)},chars:function(a){c||d(f(a))}}}var h=function(a){var b=[];return d(a,g(b)),b.join("")},i=/^<\s*([\w:-]+)((?:\s+[\w:-]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)\s*>/,j=/^<\s*\/\s*([\w:-]+)[^>]*>/,k=/([\w:-]+)(?:\s*=\s*(?:(?:"((?:[^"])*)")|(?:'((?:[^'])*)')|([^>\s]+)))?/g,l=/^</,m=/^<\s*\//,n=/<!--(.*?)-->/g,o=/<!\[CDATA\[(.*?)]]>/g,p=/^((ftp|https?):\/\/|mailto:|#)/i,q=/([^\#-~| |!])/g,r=c("area,br,col,hr,img,wbr"),s=c("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),t=c("rp,rt"),u=b.extend({},t,s),v=b.extend({},s,c("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,script,section,table,ul")),w=b.extend({},t,c("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),x=c("script,style"),y=b.extend({},r,v,w,u),z=c("background,cite,href,longdesc,src,usemap"),A=b.extend({},z,c("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,span,start,summary,target,title,type,valign,value,vspace,width")),B=document.createElement("pre");b.module("ngSanitize",[]).value("$sanitize",h),b.module("ngSanitize").directive("ngBindHtml",["$sanitize",function(a){return function(b,c,d){c.addClass("ng-binding").data("$binding",d.ngBindHtml),b.$watch(d.ngBindHtml,function(b){b=a(b),c.html(b||"")})}}]),b.module("ngSanitize").filter("linky",function(){var a=/((ftp|https?):\/\/|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s\.\;\,\(\)\{\}\<\>]/,b=/^mailto:/;return function(c){if(!c)return c;for(var d,e,f,h=c,i=[],j=g(i);d=h.match(a);)e=d[0],d[2]==d[3]&&(e="mailto:"+e),f=d.index,j.chars(h.substr(0,f)),j.start("a",{href:e}),j.chars(d[0].replace(b,"")),j.end("a"),h=h.substring(f+d[0].length);return j.chars(h),i.join("")}})}(window,window.angular),function(a){function b(a,b,c){for(var d=(c||0)-1,e=a.length;++d<e;)if(a[d]===b)return d;return-1}function c(a,c){var d=typeof c;if(a=a.cache,"boolean"==d||null==c)return a[c];"number"!=d&&"string"!=d&&(d="object");var e="number"==d?c:t+c;return a=a[d]||(a[d]={}),"object"==d?a[e]&&b(a[e],c)>-1?0:-1:a[e]?0:-1}function d(a){var b=this.cache,c=typeof a;if("boolean"==c||null==a)b[a]=!0;else{"number"!=c&&"string"!=c&&(c="object");var d="number"==c?a:t+a,e=b[c]||(b[c]={});"object"==c?(e[d]||(e[d]=[])).push(a)==this.array.length&&(b[c]=!1):e[d]=!0}}function e(a){return a.charCodeAt(0)}function f(a,b){var c=a.index,d=b.index;if(a=a.criteria,b=b.criteria,a!==b){if(a>b||"undefined"==typeof a)return 1;if(b>a||"undefined"==typeof b)return-1}return d>c?-1:1}function g(a){var b=-1,c=a.length,e=j();e["false"]=e["null"]=e["true"]=e.undefined=!1;var f=j();for(f.array=a,f.cache=e,f.push=d;++b<c;)f.push(a[b]);return e.object===!1?(l(f),null):f}function h(a){return"\\"+W[a]}function i(){return p.pop()||[]}function j(){return q.pop()||{array:null,cache:null,criteria:null,"false":!1,index:0,leading:!1,maxWait:0,"null":!1,number:null,object:null,push:null,string:null,trailing:!1,"true":!1,undefined:!1,value:null}}function k(a){a.length=0,p.length<v&&p.push(a)}function l(a){var b=a.cache;b&&l(b),a.array=a.cache=a.criteria=a.object=a.number=a.string=a.value=null,q.length<v&&q.push(a)}function m(a,b,c){b||(b=0),"undefined"==typeof c&&(c=a?a.length:0);for(var d=-1,e=c-b||0,f=Array(0>e?0:e);++d<e;)f[d]=a[b+d];return f}function n(d){function p(a){return a&&"object"==typeof a&&!Bd(a)&&hd.call(a,"__wrapped__")?a:new q(a)}function q(a){this.__wrapped__=a}function v(a,b,c,d){function e(){var d=arguments,j=g?this:b;if(f||(a=b[h]),c.length&&(d=d.length?(d=wd.call(d),i?d.concat(c):c.concat(d)):c),this instanceof e){j=W(a.prototype);var k=a.apply(j,d);return qb(k)?k:j}return a.apply(j,d)}var f=pb(a),g=!c,h=b;if(g){var i=d;c=b}else if(!f){if(!d)throw new Yc;b=a}return e}function W(a){return qb(a)?nd(a):{}}function X(a){return Ed[a]}function Z(){var a=(a=p.indexOf)===ac?b:a;return a}function _(a){return function(b,c,d,e){return"boolean"!=typeof c&&null!=c&&(e=d,d=e&&e[c]===b?o:c,c=!1),null!=d&&(d=p.createCallback(d,e)),a(b,c,d,e)}}function ab(a){var b,c;return a&&ld.call(a)==R&&(b=a.constructor,!pb(b)||b instanceof b)?(Id(a,function(a,b){c=b}),c===o||hd.call(a,c)):!1}function bb(a){return Fd[a]}function cb(a){return ld.call(a)==L}function db(a,b,c,d,e,f){var g=a;if("boolean"!=typeof b&&null!=b&&(d=c,c=b,b=!1),"function"==typeof c){if(c="undefined"==typeof d?c:p.createCallback(c,d,1),g=c(g),"undefined"!=typeof g)return g;g=a}var h=qb(g);if(h){var j=ld.call(g);if(!U[j])return g;var l=Bd(g)}if(!h||!b)return h?l?m(g):Gd({},g):g;var n=zd[j];switch(j){case N:case O:return new n(+g);case Q:case T:return new n(g);case S:return n(g.source,B.exec(g))}var q=!e;e||(e=i()),f||(f=i());for(var r=e.length;r--;)if(e[r]==a)return f[r];return g=l?n(g.length):{},l&&(hd.call(a,"index")&&(g.index=a.index),hd.call(a,"input")&&(g.input=a.input)),e.push(a),f.push(g),(l?Jb:Jd)(a,function(a,d){g[d]=db(a,b,c,o,e,f)}),q&&(k(e),k(f)),g}function eb(a,b,c){return db(a,!0,b,c)}function fb(a,b,c){var d;return b=p.createCallback(b,c),Jd(a,function(a,c,e){return b(a,c,e)?(d=c,!1):void 0}),d}function gb(a){var b=[];return Id(a,function(a,c){pb(a)&&b.push(c)}),b.sort()}function hb(a,b){return a?hd.call(a,b):!1}function ib(a){for(var b=-1,c=Dd(a),d=c.length,e={};++b<d;){var f=c[b];e[a[f]]=f}return e}function jb(a){return a===!0||a===!1||ld.call(a)==N}function kb(a){return a?"object"==typeof a&&ld.call(a)==O:!1}function lb(a){return a?1===a.nodeType:!1}function mb(a){var b=!0;if(!a)return b;var c=ld.call(a),d=a.length;return c==M||c==T||c==L||c==R&&"number"==typeof d&&pb(a.splice)?!d:(Jd(a,function(){return b=!1}),b)}function nb(a,b,c,d,e,f){var g=c===s;if("function"==typeof c&&!g){c=p.createCallback(c,d,2);var h=c(a,b);if("undefined"!=typeof h)return!!h}if(a===b)return 0!==a||1/a==1/b;var j=typeof a,l=typeof b;if(a===a&&(!a||"function"!=j&&"object"!=j)&&(!b||"function"!=l&&"object"!=l))return!1;if(null==a||null==b)return a===b;var m=ld.call(a),n=ld.call(b);if(m==L&&(m=R),n==L&&(n=R),m!=n)return!1;switch(m){case N:case O:return+a==+b;case Q:return a!=+a?b!=+b:0==a?1/a==1/b:a==+b;case S:case T:return a==Xc(b)}var o=m==M;if(!o){if(hd.call(a,"__wrapped__ ")||hd.call(b,"__wrapped__"))return nb(a.__wrapped__||a,b.__wrapped__||b,c,d,e,f);if(m!=R)return!1;var q=a.constructor,r=b.constructor;if(q!=r&&!(pb(q)&&q instanceof q&&pb(r)&&r instanceof r))return!1}var t=!e;e||(e=i()),f||(f=i());for(var u=e.length;u--;)if(e[u]==a)return f[u]==b;var v=0;if(h=!0,e.push(a),f.push(b),o){if(u=a.length,v=b.length,h=v==a.length,!h&&!g)return h;for(;v--;){var w=u,x=b[v];if(g)for(;w--&&!(h=nb(a[w],x,c,d,e,f)););else if(!(h=nb(a[v],x,c,d,e,f)))break}return h}return Id(b,function(b,g,i){return hd.call(i,g)?(v++,h=hd.call(a,g)&&nb(a[g],b,c,d,e,f)):void 0}),h&&!g&&Id(a,function(a,b,c){return hd.call(c,b)?h=--v>-1:void 0}),t&&(k(e),k(f)),h}function ob(a){return pd(a)&&!qd(parseFloat(a))}function pb(a){return"function"==typeof a}function qb(a){return!(!a||!V[typeof a])}function rb(a){return tb(a)&&a!=+a}function sb(a){return null===a}function tb(a){return"number"==typeof a||ld.call(a)==Q}function ub(a){return a?"object"==typeof a&&ld.call(a)==S:!1}function vb(a){return"string"==typeof a||ld.call(a)==T}function wb(a){return"undefined"==typeof a}function xb(a,b,c){var d=arguments,e=0,f=2;if(!qb(a))return a;if(c===s)var g=d[3],h=d[4],j=d[5];else{var l=!0;h=i(),j=i(),"number"!=typeof c&&(f=d.length),f>3&&"function"==typeof d[f-2]?g=p.createCallback(d[--f-1],d[f--],2):f>2&&"function"==typeof d[f-1]&&(g=d[--f])}for(;++e<f;)(Bd(d[e])?Jb:Jd)(d[e],function(b,c){var d,e,f=b,i=a[c];if(b&&((e=Bd(b))||Kd(b))){for(var k=h.length;k--;)if(d=h[k]==b){i=j[k];break}if(!d){var l;g&&(f=g(i,b),(l="undefined"!=typeof f)&&(i=f)),l||(i=e?Bd(i)?i:[]:Kd(i)?i:{}),h.push(b),j.push(i),l||(i=xb(i,b,s,g,h,j))}}else g&&(f=g(i,b),"undefined"==typeof f&&(f=b)),"undefined"!=typeof f&&(i=f);a[c]=i});return l&&(k(h),k(j)),a}function yb(a,b,c){var d=Z(),e="function"==typeof b,f={};if(e)b=p.createCallback(b,c);else var g=dd.apply(Zc,wd.call(arguments,1));return Id(a,function(a,c,h){(e?!b(a,c,h):d(g,c)<0)&&(f[c]=a)}),f}function zb(a){for(var b=-1,c=Dd(a),d=c.length,e=Pc(d);++b<d;){var f=c[b];e[b]=[f,a[f]]}return e}function Ab(a,b,c){var d={};if("function"!=typeof b)for(var e=-1,f=dd.apply(Zc,wd.call(arguments,1)),g=qb(a)?f.length:0;++e<g;){var h=f[e];h in a&&(d[h]=a[h])}else b=p.createCallback(b,c),Id(a,function(a,c,e){b(a,c,e)&&(d[c]=a)});return d}function Bb(a,b,c,d){var e=Bd(a);if(b=p.createCallback(b,d,4),null==c)if(e)c=[];else{var f=a&&a.constructor,g=f&&f.prototype;c=W(g)}return(e?Jb:Jd)(a,function(a,d,e){return b(c,a,d,e)}),c}function Cb(a){for(var b=-1,c=Dd(a),d=c.length,e=Pc(d);++b<d;)e[b]=a[c[b]];return e}function Db(a){for(var b=-1,c=dd.apply(Zc,wd.call(arguments,1)),d=c.length,e=Pc(d);++b<d;)e[b]=a[c[b]];return e}function Eb(a,b,c){var d=-1,e=Z(),f=a?a.length:0,g=!1;return c=(0>c?sd(0,f+c):c)||0,f&&"number"==typeof f?g=(vb(a)?a.indexOf(b,c):e(a,b,c))>-1:Jd(a,function(a){return++d>=c?!(g=a===b):void 0}),g}function Fb(a,b,c){var d={};return b=p.createCallback(b,c),Jb(a,function(a,c,e){c=Xc(b(a,c,e)),hd.call(d,c)?d[c]++:d[c]=1}),d}function Gb(a,b,c){var d=!0;b=p.createCallback(b,c);var e=-1,f=a?a.length:0;if("number"==typeof f)for(;++e<f&&(d=!!b(a[e],e,a)););else Jd(a,function(a,c,e){return d=!!b(a,c,e)});return d}function Hb(a,b,c){var d=[];b=p.createCallback(b,c);var e=-1,f=a?a.length:0;if("number"==typeof f)for(;++e<f;){var g=a[e];b(g,e,a)&&d.push(g)}else Jd(a,function(a,c,e){b(a,c,e)&&d.push(a)});return d}function Ib(a,b,c){b=p.createCallback(b,c);var d=-1,e=a?a.length:0;if("number"!=typeof e){var f;return Jd(a,function(a,c,d){return b(a,c,d)?(f=a,!1):void 0}),f}for(;++d<e;){var g=a[d];if(b(g,d,a))return g}}function Jb(a,b,c){var d=-1,e=a?a.length:0;if(b=b&&"undefined"==typeof c?b:p.createCallback(b,c),"number"==typeof e)for(;++d<e&&b(a[d],d,a)!==!1;);else Jd(a,b);return a}function Kb(a,b,c){var d={};return b=p.createCallback(b,c),Jb(a,function(a,c,e){c=Xc(b(a,c,e)),(hd.call(d,c)?d[c]:d[c]=[]).push(a)}),d}function Lb(a,b){var c=wd.call(arguments,2),d=-1,e="function"==typeof b,f=a?a.length:0,g=Pc("number"==typeof f?f:0);return Jb(a,function(a){g[++d]=(e?b:a[b]).apply(a,c)}),g}function Mb(a,b,c){var d=-1,e=a?a.length:0;if(b=p.createCallback(b,c),"number"==typeof e)for(var f=Pc(e);++d<e;)f[d]=b(a[d],d,a);else f=[],Jd(a,function(a,c,e){f[++d]=b(a,c,e)});return f}function Nb(a,b,c){var d=-1/0,f=d;if(!b&&Bd(a))for(var g=-1,h=a.length;++g<h;){var i=a[g];i>f&&(f=i)}else b=!b&&vb(a)?e:p.createCallback(b,c),Jb(a,function(a,c,e){var g=b(a,c,e);g>d&&(d=g,f=a)});return f}function Ob(a,b,c){var d=1/0,f=d;if(!b&&Bd(a))for(var g=-1,h=a.length;++g<h;){var i=a[g];f>i&&(f=i)}else b=!b&&vb(a)?e:p.createCallback(b,c),Jb(a,function(a,c,e){var g=b(a,c,e);d>g&&(d=g,f=a)});return f}function Pb(a,b){var c=-1,d=a?a.length:0;if("number"==typeof d)for(var e=Pc(d);++c<d;)e[c]=a[c][b];return e||Mb(a,b)}function Qb(a,b,c,d){if(!a)return c;var e=arguments.length<3;b=p.createCallback(b,d,4);var f=-1,g=a.length;if("number"==typeof g)for(e&&(c=a[++f]);++f<g;)c=b(c,a[f],f,a);else Jd(a,function(a,d,f){c=e?(e=!1,a):b(c,a,d,f)});return c}function Rb(a,b,c,d){var e=a,f=a?a.length:0,g=arguments.length<3;if("number"!=typeof f){var h=Dd(a);f=h.length}return b=p.createCallback(b,d,4),Jb(a,function(a,d,i){d=h?h[--f]:--f,c=g?(g=!1,e[d]):b(c,e[d],d,i)}),c}function Sb(a,b,c){return b=p.createCallback(b,c),Hb(a,function(a,c,d){return!b(a,c,d)})}function Tb(a){var b=-1,c=a?a.length:0,d=Pc("number"==typeof c?c:0);return Jb(a,function(a){var c=ed(vd()*(++b+1));d[b]=d[c],d[c]=a}),d}function Ub(a){var b=a?a.length:0;return"number"==typeof b?b:Dd(a).length}function Vb(a,b,c){var d;b=p.createCallback(b,c);var e=-1,f=a?a.length:0;if("number"==typeof f)for(;++e<f&&!(d=b(a[e],e,a)););else Jd(a,function(a,c,e){return!(d=b(a,c,e))});return!!d}function Wb(a,b,c){var d=-1,e=a?a.length:0,g=Pc("number"==typeof e?e:0);for(b=p.createCallback(b,c),Jb(a,function(a,c,e){var f=g[++d]=j();f.criteria=b(a,c,e),f.index=d,f.value=a}),e=g.length,g.sort(f);e--;){var h=g[e];g[e]=h.value,l(h)}return g}function Xb(a){return a&&"number"==typeof a.length?m(a):Cb(a)}function Yb(a){for(var b=-1,c=a?a.length:0,d=[];++b<c;){var e=a[b];e&&d.push(e)}return d}function Zb(a){var d=-1,e=Z(),f=a?a.length:0,h=dd.apply(Zc,wd.call(arguments,1)),i=[],j=f>=u&&e===b;if(j){var k=g(h);k?(e=c,h=k):j=!1}for(;++d<f;){var m=a[d];e(h,m)<0&&i.push(m)}return j&&l(h),i}function $b(a,b,c){var d=-1,e=a?a.length:0;for(b=p.createCallback(b,c);++d<e;)if(b(a[d],d,a))return d;return-1}function _b(a,b,c){if(a){var d=0,e=a.length;if("number"!=typeof b&&null!=b){var f=-1;for(b=p.createCallback(b,c);++f<e&&b(a[f],f,a);)d++}else if(d=b,null==d||c)return a[0];return m(a,0,td(sd(0,d),e))}}function ac(a,c,d){if("number"==typeof d){var e=a?a.length:0;d=0>d?sd(0,e+d):d||0}else if(d){var f=hc(a,c);return a[f]===c?f:-1}return a?b(a,c,d):-1}function bc(a,b,c){if(!a)return[];var d=0,e=a.length;if("number"!=typeof b&&null!=b){var f=e;for(b=p.createCallback(b,c);f--&&b(a[f],f,a);)d++}else d=null==b||c?1:b||d;return m(a,0,td(sd(0,e-d),e))}function cc(a){for(var d=arguments,e=d.length,f=-1,h=i(),j=-1,m=Z(),n=a?a.length:0,o=[],p=i();++f<e;){var q=d[f];h[f]=m===b&&(q?q.length:0)>=u&&g(f?d[f]:p)}a:for(;++j<n;){var r=h[0];if(q=a[j],(r?c(r,q):m(p,q))<0){for(f=e,(r||p).push(q);--f;)if(r=h[f],(r?c(r,q):m(d[f],q))<0)continue a;o.push(q)}}for(;e--;)r=h[e],r&&l(r);return k(h),k(p),o}function dc(a,b,c){if(a){var d=0,e=a.length;if("number"!=typeof b&&null!=b){var f=e;for(b=p.createCallback(b,c);f--&&b(a[f],f,a);)d++}else if(d=b,null==d||c)return a[e-1];return m(a,sd(0,e-d))}}function ec(a,b,c){var d=a?a.length:0;for("number"==typeof c&&(d=(0>c?sd(0,d+c):td(c,d-1))+1);d--;)if(a[d]===b)return d;return-1}function fc(a,b,c){a=+a||0,c=+c||1,null==b&&(b=a,a=0);for(var d=-1,e=sd(0,bd((b-a)/c)),f=Pc(e);++d<e;)f[d]=a,a+=c;return f}function gc(a,b,c){if("number"!=typeof b&&null!=b){var d=0,e=-1,f=a?a.length:0;for(b=p.createCallback(b,c);++e<f&&b(a[e],e,a);)d++}else d=null==b||c?1:sd(0,b);return m(a,d)}function hc(a,b,c,d){var e=0,f=a?a.length:e;for(c=c?p.createCallback(c,d,1):Dc,b=c(b);f>e;){var g=e+f>>>1;c(a[g])<b?e=g+1:f=g}return e}function ic(a){return Bd(a)||(arguments[0]=a?wd.call(a):Zc),Nd(dd.apply(Zc,arguments))}function jc(a){for(var b=-1,c=a?Nb(Pb(a,"length")):0,d=Pc(0>c?0:c);++b<c;)d[b]=Pb(a,b);return d}function kc(a){return Zb(a,wd.call(arguments,1))}function lc(a){return a?jc(arguments):[]}function mc(a,b){for(var c=-1,d=a?a.length:0,e={};++c<d;){var f=a[c];b?e[f]=b[c]:e[f[0]]=f[1]}return e}function nc(a,b){return 1>a?b():function(){return--a<1?b.apply(this,arguments):void 0}}function oc(a,b){return Ad.fastBind||md&&arguments.length>2?md.call.apply(md,arguments):v(a,b,wd.call(arguments,2))}function pc(a){for(var b=arguments.length>1?dd.apply(Zc,wd.call(arguments,1)):gb(a),c=-1,d=b.length;++c<d;){var e=b[c];a[e]=oc(a[e],a)}return a}function qc(a,b){return v(a,b,wd.call(arguments,2),s)}function rc(){var a=arguments;return function(){for(var b=arguments,c=a.length;c--;)b=[a[c].apply(this,b)];return b[0]}}function sc(a,b,c){if(null==a)return Dc;var d=typeof a;if("function"!=d){if("object"!=d)return function(b){return b[a]};var e=Dd(a);return function(b){for(var c=e.length,d=!1;c--&&(d=nb(b[e[c]],a[e[c]],s)););return d}}return"undefined"==typeof b||D&&!D.test(fd.call(a))?a:1===c?function(c){return a.call(b,c)}:2===c?function(c,d){return a.call(b,c,d)}:4===c?function(c,d,e,f){return a.call(b,c,d,e,f)}:function(c,d,e){return a.call(b,c,d,e)}}function tc(a,b,c){function d(){cd(m),cd(n),j=0,m=n=null}function e(){var b=o&&(!p||j>1);d(),b&&(l!==!1&&(k=new Rc),h=a.apply(i,g))}function f(){d(),(o||l!==b)&&(k=new Rc,h=a.apply(i,g))}var g,h,i,j=0,k=0,l=!1,m=null,n=null,o=!0;if(b=sd(0,b||0),c===!0){var p=!0;o=!1}else qb(c)&&(p=c.leading,l="maxWait"in c&&sd(b,c.maxWait||0),o="trailing"in c?c.trailing:o);return function(){if(g=arguments,i=this,j++,cd(n),l===!1)p&&2>j&&(h=a.apply(i,g));else{var c=new Rc;m||p||(k=c);var d=l-(c-k);0>=d?(cd(m),m=null,k=c,h=a.apply(i,g)):m||(m=kd(f,d))}return b!==l&&(n=kd(e,b)),h}}function uc(a){var b=wd.call(arguments,1);return kd(function(){a.apply(o,b)},1)}function vc(a,b){var c=wd.call(arguments,2);return kd(function(){a.apply(o,c)},b)}function wc(a,b){function c(){var d=c.cache,e=t+(b?b.apply(this,arguments):arguments[0]);return hd.call(d,e)?d[e]:d[e]=a.apply(this,arguments)}return c.cache={},c}function xc(a){var b,c;return function(){return b?c:(b=!0,c=a.apply(this,arguments),a=null,c)}}function yc(a){return v(a,wd.call(arguments,1))}function zc(a){return v(a,wd.call(arguments,1),null,s)}function Ac(a,b,c){var d=!0,e=!0;c===!1?d=!1:qb(c)&&(d="leading"in c?c.leading:d,e="trailing"in c?c.trailing:e),c=j(),c.leading=d,c.maxWait=b,c.trailing=e;var f=tc(a,b,c);return l(c),f}function Bc(a,b){return function(){var c=[a];return id.apply(c,arguments),b.apply(this,c)}}function Cc(a){return null==a?"":Xc(a).replace(H,X)}function Dc(a){return a}function Ec(a){Jb(gb(a),function(b){var c=p[b]=a[b];p.prototype[b]=function(){var a=this.__wrapped__,b=[a];id.apply(b,arguments);var d=c.apply(p,b);return a&&"object"==typeof a&&a===d?this:new q(d)}})}function Fc(){return d._=_c,this}function Gc(a,b){null==a&&null==b&&(b=1),a=+a||0,null==b?(b=a,a=0):b=+b||0;var c=vd();return a%1||b%1?a+td(c*(b-a+parseFloat("1e-"+((c+"").length-1))),b):a+ed(c*(b-a+1))}function Hc(a,b){var c=a?a[b]:o;return pb(c)?a[b]():c}function Ic(a,b,c){var d=p.templateSettings;a||(a=""),c=Hd({},c,d);var e,f=Hd({},c.imports,d.imports),g=Dd(f),i=Cb(f),j=0,k=c.interpolate||G,l="__p += '",m=Wc((c.escape||G).source+"|"+k.source+"|"+(k===C?A:G).source+"|"+(c.evaluate||G).source+"|$","g");a.replace(m,function(b,c,d,f,g,i){return d||(d=f),l+=a.slice(j,i).replace(I,h),c&&(l+="' +\n__e("+c+") +\n'"),g&&(e=!0,l+="';\n"+g+";\n__p += '"),d&&(l+="' +\n((__t = ("+d+")) == null ? '' : __t) +\n'"),j=i+b.length,b}),l+="';\n";var n=c.variable,q=n;q||(n="obj",l="with ("+n+") {\n"+l+"\n}\n"),l=(e?l.replace(w,""):l).replace(x,"$1").replace(y,"$1;"),l="function("+n+") {\n"+(q?"":n+" || ("+n+" = {});\n")+"var __t, __p = '', __e = _.escape"+(e?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+l+"return __p\n}";var r="\n/*\n//@ sourceURL="+(c.sourceURL||"/lodash/template/source["+K++ +"]")+"\n*/";try{var s=Sc(g,"return "+l+r).apply(o,i)}catch(t){throw t.source=l,t}return b?s(b):(s.source=l,s)}function Jc(a,b,c){a=(a=+a)>-1?a:0;var d=-1,e=Pc(a);for(b=p.createCallback(b,c,1);++d<a;)e[d]=b(d);return e}function Kc(a){return null==a?"":Xc(a).replace(z,bb)}function Lc(a){var b=++r;return Xc(null==a?"":a)+b}function Mc(a,b){return b(a),a}function Nc(){return Xc(this.__wrapped__)}function Oc(){return this.__wrapped__}d=d?$.defaults(a.Object(),d,$.pick(a,J)):a;var Pc=d.Array,Qc=d.Boolean,Rc=d.Date,Sc=d.Function,Tc=d.Math,Uc=d.Number,Vc=d.Object,Wc=d.RegExp,Xc=d.String,Yc=d.TypeError,Zc=[],$c=Vc.prototype;Xc.prototype;var _c=d._,ad=Wc("^"+Xc($c.valueOf).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/valueOf|for [^\]]+/g,".+?")+"$"),bd=Tc.ceil,cd=d.clearTimeout,dd=Zc.concat,ed=Tc.floor,fd=Sc.prototype.toString,gd=ad.test(gd=Vc.getPrototypeOf)&&gd,hd=$c.hasOwnProperty,id=Zc.push,jd=($c.propertyIsEnumerable,d.setImmediate),kd=d.setTimeout,ld=$c.toString,md=ad.test(md=ld.bind)&&md,nd=ad.test(nd=Vc.create)&&nd,od=ad.test(od=Pc.isArray)&&od,pd=d.isFinite,qd=d.isNaN,rd=ad.test(rd=Vc.keys)&&rd,sd=Tc.max,td=Tc.min,ud=d.parseInt,vd=Tc.random,wd=Zc.slice,xd=ad.test(d.attachEvent),yd=md&&!/\n|true/.test(md+xd),zd={};zd[M]=Pc,zd[N]=Qc,zd[O]=Rc,zd[P]=Sc,zd[R]=Vc,zd[Q]=Uc,zd[S]=Wc,zd[T]=Xc,q.prototype=p.prototype;var Ad=p.support={};Ad.fastBind=md&&!yd,p.templateSettings={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:C,variable:"",imports:{_:p}};var Bd=od,Cd=function(a){var b,c=a,d=[];if(!c)return d;if(!V[typeof a])return d;for(b in c)hd.call(c,b)&&d.push(b);return d},Dd=rd?function(a){return qb(a)?rd(a):[]}:Cd,Ed={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Fd=ib(Ed),Gd=function(a,b,c){var d,e=a,f=e;if(!e)return f;var g=arguments,h=0,i="number"==typeof c?2:g.length;if(i>3&&"function"==typeof g[i-2])var j=p.createCallback(g[--i-1],g[i--],2);else i>2&&"function"==typeof g[i-1]&&(j=g[--i]);for(;++h<i;)if(e=g[h],e&&V[typeof e])for(var k=-1,l=V[typeof e]&&Dd(e),m=l?l.length:0;++k<m;)d=l[k],f[d]=j?j(f[d],e[d]):e[d];return f},Hd=function(a,b,c){var d,e=a,f=e;if(!e)return f;for(var g=arguments,h=0,i="number"==typeof c?2:g.length;++h<i;)if(e=g[h],e&&V[typeof e])for(var j=-1,k=V[typeof e]&&Dd(e),l=k?k.length:0;++j<l;)d=k[j],"undefined"==typeof f[d]&&(f[d]=e[d]);return f},Id=function(a,b,c){var d,e=a,f=e;if(!e)return f;if(!V[typeof e])return f;b=b&&"undefined"==typeof c?b:p.createCallback(b,c);for(d in e)if(b(e[d],d,a)===!1)return f;return f},Jd=function(a,b,c){var d,e=a,f=e;if(!e)return f;if(!V[typeof e])return f;b=b&&"undefined"==typeof c?b:p.createCallback(b,c);for(var g=-1,h=V[typeof e]&&Dd(e),i=h?h.length:0;++g<i;)if(d=h[g],b(e[d],d,a)===!1)return f;return f},Kd=function(a){if(!a||ld.call(a)!=R)return!1;var b=a.valueOf,c="function"==typeof b&&(c=gd(b))&&gd(c);return c?a==c||gd(a)==c:ab(a)},Ld=Hb,Md=_(function Pd(a,b,c){for(var d=-1,e=a?a.length:0,f=[];++d<e;){var g=a[d];c&&(g=c(g,d,a)),Bd(g)?id.apply(f,b?g:Pd(g)):f.push(g)}return f}),Nd=_(function(a,d,e){var f=-1,h=Z(),j=a?a.length:0,m=[],n=!d&&j>=u&&h===b,o=e||n?i():m;if(n){var p=g(o);p?(h=c,o=p):(n=!1,o=e?o:(k(o),m))}for(;++f<j;){var q=a[f],r=e?e(q,f,a):q;(d?!f||o[o.length-1]!==r:h(o,r)<0)&&((e||n)&&o.push(r),m.push(q))}return n?(k(o.array),l(o)):e&&k(o),m});yd&&Y&&"function"==typeof jd&&(uc=oc(jd,d));var Od=8==ud(E+"08")?ud:function(a,b){return ud(vb(a)?a.replace(F,""):a,b||0)};return p.after=nc,p.assign=Gd,p.at=Db,p.bind=oc,p.bindAll=pc,p.bindKey=qc,p.compact=Yb,p.compose=rc,p.countBy=Fb,p.createCallback=sc,p.debounce=tc,p.defaults=Hd,p.defer=uc,p.delay=vc,p.difference=Zb,p.filter=Hb,p.flatten=Md,p.forEach=Jb,p.forIn=Id,p.forOwn=Jd,p.functions=gb,p.groupBy=Kb,p.initial=bc,p.intersection=cc,p.invert=ib,p.invoke=Lb,p.keys=Dd,p.map=Mb,p.max=Nb,p.memoize=wc,p.merge=xb,p.min=Ob,p.omit=yb,p.once=xc,p.pairs=zb,p.partial=yc,p.partialRight=zc,p.pick=Ab,p.pluck=Pb,p.range=fc,p.reject=Sb,p.rest=gc,p.shuffle=Tb,p.sortBy=Wb,p.tap=Mc,p.throttle=Ac,p.times=Jc,p.toArray=Xb,p.transform=Bb,p.union=ic,p.uniq=Nd,p.unzip=jc,p.values=Cb,p.where=Ld,p.without=kc,p.wrap=Bc,p.zip=lc,p.zipObject=mc,p.collect=Mb,p.drop=gc,p.each=Jb,p.extend=Gd,p.methods=gb,p.object=mc,p.select=Hb,p.tail=gc,p.unique=Nd,Ec(p),p.chain=p,p.prototype.chain=function(){return this},p.clone=db,p.cloneDeep=eb,p.contains=Eb,p.escape=Cc,p.every=Gb,p.find=Ib,p.findIndex=$b,p.findKey=fb,p.has=hb,p.identity=Dc,p.indexOf=ac,p.isArguments=cb,p.isArray=Bd,p.isBoolean=jb,p.isDate=kb,p.isElement=lb,p.isEmpty=mb,p.isEqual=nb,p.isFinite=ob,p.isFunction=pb,p.isNaN=rb,p.isNull=sb,p.isNumber=tb,p.isObject=qb,p.isPlainObject=Kd,p.isRegExp=ub,p.isString=vb,p.isUndefined=wb,p.lastIndexOf=ec,p.mixin=Ec,p.noConflict=Fc,p.parseInt=Od,p.random=Gc,p.reduce=Qb,p.reduceRight=Rb,p.result=Hc,p.runInContext=n,p.size=Ub,p.some=Vb,p.sortedIndex=hc,p.template=Ic,p.unescape=Kc,p.uniqueId=Lc,p.all=Gb,p.any=Vb,p.detect=Ib,p.findWhere=Ib,p.foldl=Qb,p.foldr=Rb,p.include=Eb,p.inject=Qb,Jd(p,function(a,b){p.prototype[b]||(p.prototype[b]=function(){var b=[this.__wrapped__];return id.apply(b,arguments),a.apply(p,b)})}),p.first=_b,p.last=dc,p.take=_b,p.head=_b,Jd(p,function(a,b){p.prototype[b]||(p.prototype[b]=function(b,c){var d=a(this.__wrapped__,b,c);return null==b||c&&"function"!=typeof b?d:new q(d)})}),p.VERSION="1.3.1",p.prototype.toString=Nc,p.prototype.value=Oc,p.prototype.valueOf=Oc,Jb(["join","pop","shift"],function(a){var b=Zc[a];p.prototype[a]=function(){return b.apply(this.__wrapped__,arguments)}}),Jb(["push","reverse","sort","unshift"],function(a){var b=Zc[a];p.prototype[a]=function(){return b.apply(this.__wrapped__,arguments),this}}),Jb(["concat","slice","splice"],function(a){var b=Zc[a];p.prototype[a]=function(){return new q(b.apply(this.__wrapped__,arguments))}}),p}var o,p=[],q=[],r=0,s={},t=+new Date+"",u=75,v=40,w=/\b__p \+= '';/g,x=/\b(__p \+=) '' \+/g,y=/(__e\(.*?\)|\b__t\)) \+\n'';/g,z=/&(?:amp|lt|gt|quot|#39);/g,A=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,B=/\w*$/,C=/<%=([\s\S]+?)%>/g,D=(D=/\bthis\b/)&&D.test(n)&&D,E=" 	\f ﻿\n\r\u2028\u2029 ᠎             　",F=RegExp("^["+E+"]*0+(?=.$)"),G=/($^)/,H=/[&<>"']/g,I=/['\n\r\t\u2028\u2029\\]/g,J=["Array","Boolean","Date","Function","Math","Number","Object","RegExp","String","_","attachEvent","clearTimeout","isFinite","isNaN","parseInt","setImmediate","setTimeout"],K=0,L="[object Arguments]",M="[object Array]",N="[object Boolean]",O="[object Date]",P="[object Function]",Q="[object Number]",R="[object Object]",S="[object RegExp]",T="[object String]",U={};U[P]=!1,U[L]=U[M]=U[N]=U[O]=U[Q]=U[R]=U[S]=U[T]=!0;var V={"boolean":!1,"function":!0,object:!0,number:!1,string:!1,undefined:!1},W={"\\":"\\","'":"'","\n":"n","\r":"r","	":"t","\u2028":"u2028","\u2029":"u2029"},X=V[typeof exports]&&exports,Y=V[typeof module]&&module&&module.exports==X&&module,Z=V[typeof global]&&global;!Z||Z.global!==Z&&Z.window!==Z||(a=Z);var $=n();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(a._=$,define(function(){return $})):X&&!X.nodeType?Y?(Y.exports=$)._=$:X._=$:a._=$}(this),function(){var a=angular.module("restangular",[]);a.provider("Restangular",function(){var a={};a.init=function(a,b){function c(a,b,c,d){var e={};return _.each(_.keys(d),function(f){var g=d[f];g.params=_.extend({},g.params,a.defaultRequestParams[g.method.toLowerCase()]),_.isEmpty(g.params)&&delete g.params,e[f]=a.isSafe(g.method)?function(){return b(_.extend(g,{url:c}))}:function(a){return b(_.extend(g,{url:c,data:a}))}}),e}var d=["get","head","options","trace"];b.isSafe=function(a){return _.contains(d,a.toLowerCase())};var e=/^https?:\/\//i;b.isAbsoluteUrl=function(a){return a&&e.test(a)},b.baseUrl=_.isUndefined(b.baseUrl)?"":b.baseUrl,a.setBaseUrl=function(a){return b.baseUrl=/\/$/.test(a)?a.substring(0,a.length-1):a,this},b.extraFields=b.extraFields||[],a.setExtraFields=function(a){return b.extraFields=a,this},b.defaultHttpFields=b.defaultHttpFields||{},a.setDefaultHttpFields=function(a){return b.defaultHttpFields=a,this},b.withHttpDefaults=function(a){return _.defaults(a,b.defaultHttpFields)},b.encodeIds=_.isUndefined(b.encodeIds)?!0:b.encodeIds,a.setEncodeIds=function(a){b.encodeIds=a},b.defaultRequestParams=b.defaultRequestParams||{get:{},post:{},put:{},remove:{},common:{}},a.setDefaultRequestParams=function(a,c){var d=[],e=c||a;return _.isUndefined(c)?d.push("common"):_.isArray(a)?d=a:d.push(a),_.each(d,function(a){b.defaultRequestParams[a]=e}),this},a.requestParams=b.defaultRequestParams,b.defaultHeaders=b.defaultHeaders||{},a.setDefaultHeaders=function(c){return b.defaultHeaders=c,a.defaultHeaders=b.defaultHeaders,this
},a.defaultHeaders=b.defaultHeaders,b.methodOverriders=b.methodOverriders||[],a.setMethodOverriders=function(a){var c=_.extend([],a);return b.isOverridenMethod("delete",c)&&c.push("remove"),b.methodOverriders=c,this},b.isOverridenMethod=function(a,c){var d=c||b.methodOverriders;return!_.isUndefined(_.find(d,function(b){return b.toLowerCase()===a.toLowerCase()}))},b.urlCreator=b.urlCreator||"path",a.setUrlCreator=function(a){if(!_.has(b.urlCreatorFactory,a))throw new Error("URL Path selected isn't valid");return b.urlCreator=a,this},b.restangularFields=b.restangularFields||{id:"id",route:"route",parentResource:"parentResource",restangularCollection:"restangularCollection",cannonicalId:"__cannonicalId",etag:"restangularEtag",selfLink:"href",get:"get",getList:"getList",put:"put",post:"post",remove:"remove",head:"head",trace:"trace",options:"options",patch:"patch",getRestangularUrl:"getRestangularUrl",putElement:"putElement",addRestangularMethod:"addRestangularMethod",getParentList:"getParentList",clone:"clone",ids:"ids"},a.setRestangularFields=function(a){return b.restangularFields=_.extend(b.restangularFields,a),this},b.setFieldToElem=function(a,b,c){var d=a.split("."),e=b;return _.each(_.initial(d),function(a){e[a]={},e=e[a]}),e[_.last(d)]=c,this},b.getFieldFromElem=function(a,b){var c=a.split("."),d=angular.copy(b);return _.each(c,function(a){d&&(d=d[a])}),d},b.setIdToElem=function(a,c){return b.setFieldToElem(b.restangularFields.id,a,c),this},b.getIdFromElem=function(a){return b.getFieldFromElem(b.restangularFields.id,a)},b.isValidId=function(a){return""!==a&&!_.isUndefined(a)&&!_.isNull(a)},b.setUrlToElem=function(a,c){return b.setFieldToElem(b.restangularFields.selfLink,a,c),this},b.getUrlFromElem=function(a){return b.getFieldFromElem(b.restangularFields.selfLink,a)},b.useCannonicalId=_.isUndefined(b.useCannonicalId)?!1:b.useCannonicalId,a.setUseCannonicalId=function(a){return b.useCannonicalId=a,this},b.getCannonicalIdFromElem=function(a){var c=a[b.restangularFields.cannonicalId],d=b.isValidId(c)?c:b.getIdFromElem(a);return d},b.responseExtractor=b.responseExtractor||function(a){return a},a.setResponseExtractor=function(a){return b.responseExtractor=a,this},a.setResponseInterceptor=a.setResponseExtractor,b.fullRequestInterceptor=b.fullRequestInterceptor||function(a,b,c,d,e,f){return{element:a,headers:e,params:f}},a.setRequestInterceptor=function(a){return b.fullRequestInterceptor=function(b,c,d,e,f,g){return{headers:f,params:g,element:a(b,c,d,e)}},this},a.setFullRequestInterceptor=function(a){return b.fullRequestInterceptor=a,this},b.errorInterceptor=b.errorInterceptor||function(){},a.setErrorInterceptor=function(a){return b.errorInterceptor=a,this},b.onBeforeElemRestangularized=b.onBeforeElemRestangularized||function(a){return a},a.setOnBeforeElemRestangularized=function(a){return b.onBeforeElemRestangularized=a,this},b.onElemRestangularized=b.onElemRestangularized||function(a){return a},a.setOnElemRestangularized=function(a){return b.onElemRestangularized=a,this},a.setListTypeIsArray=function(){},b.shouldSaveParent=b.shouldSaveParent||function(){return!0},a.setParentless=function(a){return _.isArray(a)?b.shouldSaveParent=function(b){return!_.contains(a,b)}:_.isBoolean(a)&&(b.shouldSaveParent=function(){return!a}),this},b.suffix=_.isUndefined(b.suffix)?null:b.suffix,a.setRequestSuffix=function(a){return b.suffix=a,this},b.transformers=b.transformers||{},a.addElementTransformer=function(a,c,d){var e=null,f=null;2===arguments.length?f=c:(f=d,e=c);var g=b.transformers[a];g||(g=b.transformers[a]=[]),g.push(function(a,b){return _.isNull(e)||a==e?f(b):b})},a.extendCollection=function(b,c){return a.addElementTransformer(b,!0,c)},a.extendModel=function(b,c){return a.addElementTransformer(b,!1,c)},b.transformElem=function(a,c,d,e){var f=b.transformers[d],g=a;return f&&_.each(f,function(a){g=a(c,g)}),b.onElemRestangularized(g,c,d,e)},b.fullResponse=_.isUndefined(b.fullResponse)?!1:b.fullResponse,a.setFullResponse=function(a){return b.fullResponse=a,this},b.urlCreatorFactory={};var f=function(){};f.prototype.setConfig=function(a){return this.config=a,this},f.prototype.parentsArray=function(a){for(var b=[];a;)b.push(a),a=a[this.config.restangularFields.parentResource];return b.reverse()},f.prototype.resource=function(a,d,e,f,g,h,i){var j=_.defaults(f||{},this.config.defaultRequestParams.common),k=_.defaults(e||{},this.config.defaultHeaders);h&&(b.isSafe(i)?k["If-None-Match"]=h:k["If-Match"]=h);var l=this.base(a);return l+=g?"/"+g:"",l+=this.config.suffix||"",c(this.config,d,l,{getList:this.config.withHttpDefaults({method:"GET",params:j,headers:k}),get:this.config.withHttpDefaults({method:"GET",params:j,headers:k}),put:this.config.withHttpDefaults({method:"PUT",params:j,headers:k}),post:this.config.withHttpDefaults({method:"POST",params:j,headers:k}),remove:this.config.withHttpDefaults({method:"DELETE",params:j,headers:k}),head:this.config.withHttpDefaults({method:"HEAD",params:j,headers:k}),trace:this.config.withHttpDefaults({method:"TRACE",params:j,headers:k}),options:this.config.withHttpDefaults({method:"OPTIONS",params:j,headers:k}),patch:this.config.withHttpDefaults({method:"PATCH",params:j,headers:k})})};var g=function(){};g.prototype=new f,g.prototype.base=function(a){var c=this;return _.reduce(this.parentsArray(a),function(a,d){var e,f=c.config.getUrlFromElem(d);if(f){if(c.config.isAbsoluteUrl(f))return f;e=f}else if(e=d[c.config.restangularFields.route],d[c.config.restangularFields.restangularCollection]){var g=d[c.config.restangularFields.ids];g&&(e+="/"+g.join(","))}else{var h;h=c.config.useCannonicalId?c.config.getCannonicalIdFromElem(d):c.config.getIdFromElem(d),b.isValidId(h)&&(e+="/"+(c.config.encodeIds?encodeURIComponent(h):h))}return a+"/"+e},this.config.baseUrl)},g.prototype.fetchUrl=function(a,b){var c=this.base(a);return b&&(c+="/"+b),c},b.urlCreatorFactory.path=g};var b={};a.init(this,b),this.$get=["$http","$q",function(c,d){function e(f){function g(a,b,c){if(b[f.restangularFields.route]=c,b[f.restangularFields.getRestangularUrl]=_.bind(M.fetchUrl,M,b),b[f.restangularFields.addRestangularMethod]=_.bind(J,b),b[f.restangularFields.clone]=_.bind(s,b,b),b.one=_.bind(h,b,b),b.all=_.bind(i,b,b),b.several=_.bind(j,b,b),b.oneUrl=_.bind(k,b,b),b.allUrl=_.bind(l,b,b),a&&f.shouldSaveParent(c)){var d=f.getIdFromElem(a),e=f.getUrlFromElem(a),g=_.union(_.values(_.pick(f.restangularFields,["route","parentResource"])),f.extraFields),m=_.pick(a,g);f.isValidId(d)&&f.setIdToElem(m,d),f.isValidId(e)&&f.setUrlToElem(m,e),b[f.restangularFields.parentResource]=m}else b[f.restangularFields.parentResource]=null;return b}function h(a,b,c){var d={};return f.setIdToElem(d,c),t(a,d,b)}function i(a,b){return u(a,[],b,!0)}function j(a,b){var c=[];return c[f.restangularFields.ids]=Array.prototype.splice.call(arguments,2),u(a,c,b,!0)}function k(a,b,c){var d={};return f.setUrlToElem(d,c),t(a,d,b)}function l(a,b,c){var d={};return f.setUrlToElem(d,c),u(a,d,b,!0)}function m(a,b){return a.call=_.bind(n,a),a.get=_.bind(o,a),a[f.restangularFields.restangularCollection]=b,b&&(a.push=_.bind(n,a,"push")),a}function n(a){var b=d.defer(),c=arguments;return this.then(function(d){var e=Array.prototype.slice.call(c,1),f=d[a];f.apply(d,e),b.resolve(d)}),m(b.promise,this[f.restangularFields.restangularCollection])}function o(a){var b=d.defer();return this.then(function(c){b.resolve(c[a])}),m(b.promise,this[f.restangularFields.restangularCollection])}function p(a,b,c){return f.fullResponse?a.resolve(_.extend(b,{data:c})):(a.resolve(c),void 0)}function q(a){return _.omit(a,_.values(_.omit(f.restangularFields,"id")))}function r(a){a.customOperation=_.bind(I,a),_.each(["put","post","get","delete"],function(b){_.each(["do","custom"],function(c){var d,e="delete"===b?"remove":b,f=c+b.toUpperCase();d="put"!==e&&"post"!==e?I:function(a,b,c,d,e){return _.bind(I,this)(a,c,d,e,b)},a[f]=_.bind(d,a,e)})}),a.customGETLIST=_.bind(y,a),a.doGETLIST=a.customGETLIST}function s(a){var b=angular.copy(a);return t(b[f.restangularFields.parentResource],b,b[f.restangularFields.route])}function t(a,b,c,d){var e=f.onBeforeElemRestangularized(b,!1,c),h=g(a,e,c);return f.useCannonicalId&&(h[f.restangularFields.cannonicalId]=f.getIdFromElem(h)),d&&(h[f.restangularFields.getParentList]=function(){return d}),h[f.restangularFields.restangularCollection]=!1,h[f.restangularFields.get]=_.bind(A,h),h[f.restangularFields.getList]=_.bind(y,h),h[f.restangularFields.put]=_.bind(C,h),h[f.restangularFields.post]=_.bind(D,h),h[f.restangularFields.remove]=_.bind(B,h),h[f.restangularFields.head]=_.bind(E,h),h[f.restangularFields.trace]=_.bind(F,h),h[f.restangularFields.options]=_.bind(G,h),h[f.restangularFields.patch]=_.bind(H,h),r(h),f.transformElem(h,!1,c,L)}function u(a,b,c){var d=f.onBeforeElemRestangularized(b,!0,c),e=g(a,d,c);return e[f.restangularFields.restangularCollection]=!0,e[f.restangularFields.post]=_.bind(D,e,null),e[f.restangularFields.head]=_.bind(E,e),e[f.restangularFields.trace]=_.bind(F,e),e[f.restangularFields.putElement]=_.bind(w,e),e[f.restangularFields.options]=_.bind(G,e),e[f.restangularFields.patch]=_.bind(H,e),e[f.restangularFields.get]=_.bind(v,e),e[f.restangularFields.getList]=_.bind(y,e,null),r(e),f.transformElem(e,!0,c,L)}function v(a,b,c){return this.customGET(a.toString(),b,c)}function w(a,b,c){var e=this,f=this[a],g=d.defer();return f.put(b,c).then(function(b){var c=s(e);c[a]=b,g.resolve(c)},function(a){g.reject(a)}),m(g.promise,!0)}function x(a,b,c,d,e,g){var h=f.responseExtractor(a,b,c,d,e,g),i=e.headers("ETag");return h&&i&&(h[f.restangularFields.etag]=i),h}function y(a,b,e){var g=this,h=d.defer(),i="getList",j=M.fetchUrl(this,a),k=a||g[f.restangularFields.route],l=f.fullRequestInterceptor(null,i,k,j,e||{},b||{});return M.resource(this,c,l.headers,l.params,a,this[f.restangularFields.etag],i).getList().then(function(b){var c=b.data,d=x(c,i,k,j,b,h),e=_.map(d,function(b){return g[f.restangularFields.restangularCollection]?t(g[f.restangularFields.parentResource],b,g[f.restangularFields.route],d):t(g,b,a,d)});e=_.extend(d,e),g[f.restangularFields.restangularCollection]?p(h,b,u(null,e,g[f.restangularFields.route])):p(h,b,u(g,e,a))},function(a){f.errorInterceptor(a)!==!1&&h.reject(a)}),m(h.promise,!0)}function z(a,b,e,g,h){var i=this,j=d.defer(),k=e||{},l=b||this[f.restangularFields.route],n=M.fetchUrl(this,b),o=g||this,r=o[f.restangularFields.etag];_.isObject(o)&&(o=q(o));var s=f.fullRequestInterceptor(o,a,l,n,h||{},k||{}),u=function(c){var d=c.data,e=x(d,a,l,n,c,j);e?"post"!==a||i[f.restangularFields.restangularCollection]?p(j,c,t(i[f.restangularFields.parentResource],e,i[f.restangularFields.route])):p(j,c,t(i,e,b)):p(j,c,void 0)},v=function(a){f.errorInterceptor(a)!==!1&&j.reject(a)},w=a,y=_.extend({},s.headers),z=f.isOverridenMethod(a);return z&&(w="post",y=_.extend(y,{"X-HTTP-Method-Override":"remove"===a?"DELETE":a})),f.isSafe(a)?z?M.resource(this,c,y,s.params,b,r,w)[w]({}).then(u,v):M.resource(this,c,y,s.params,b,r,w)[w]().then(u,v):M.resource(this,c,y,s.params,b,r,w)[w](s.element).then(u,v),m(j.promise)}function A(a,b){return _.bind(z,this)("get",void 0,a,void 0,b)}function B(a,b){return _.bind(z,this)("remove",void 0,a,void 0,b)}function C(a,b){return _.bind(z,this)("put",void 0,a,void 0,b)}function D(a,b,c,d){return _.bind(z,this)("post",a,c,b,d)}function E(a,b){return _.bind(z,this)("head",void 0,a,void 0,b)}function F(a,b){return _.bind(z,this)("trace",void 0,a,void 0,b)}function G(a,b){return _.bind(z,this)("options",void 0,a,void 0,b)}function H(a,b,c){return _.bind(z,this)("patch",void 0,b,a,c)}function I(a,b,c,d,e){return _.bind(z,this)(a,b,c,e,d)}function J(a,b,c,d,e,g){var h;h="getList"===b?_.bind(y,this,c):_.bind(I,this,b,c);var i=function(a,b,c){var f=_.defaults({params:a,headers:b,elem:c},{params:d,headers:e,elem:g});return h(f.params,f.headers,f.elem)};this[a]=f.isSafe(b)?i:function(a,b,c){return i(b,c,a)}}function K(c){var d=angular.copy(b);return a.init(d,d),c(d),e(d)}var L={},M=new f.urlCreatorFactory[f.urlCreator];return M.setConfig(f),a.init(L,f),L.copy=_.bind(s,L),L.withConfig=_.bind(K,L),L.one=_.bind(h,L,null),L.all=_.bind(i,L,null),L.several=_.bind(j,L,null),L.oneUrl=_.bind(k,L,null),L.allUrl=_.bind(l,L,null),L.restangularizeElement=_.bind(t,L),L.restangularizeCollection=_.bind(u,L),L}return e(b)}]})}();